const MIDIREF = {
    "12": "C0",
    "60": "C4",
    "108": "C8",
    "13": "C#0",
    "61": "C#4",
    "109": "C#8",
    "14": "D0",
    "62": "D4",
    "110": "D8",
    "15": "D#0",
    "63": "D#4",
    "111": "D#8",
    "16": "E0",
    "64": "E4",
    "112": "E8",
    "17": "F0",
    "65": "F4",
    "113": "F8",
    "18": "F#0",
    "66": "F#4",
    "114": "F#8",
    "19": "G0",
    "67": "G4",
    "115": "G8",
    "20": "G#0",
    "68": "G#4",
    "116": "G#8",
    "21": "A0",
    "69": "A4",
    "117": "A8",
    "22": "A#0",
    "70": "A#4",
    "118": "A#8",
    "23": "B0",
    "71": "B4",
    "119": "B8",
    "24": "C1",
    "72": "C5",
    "120": "C9",
    "25": "C#1",
    "73": "C#5",
    "121": "C#9",
    "26": "D1",
    "74": "D5",
    "122": "D9",
    "27": "D#1",
    "75": "D#5",
    "123": "D#9",
    "28": "E1",
    "76": "E5",
    "124": "E9",
    "29": "F1",
    "77": "F5",
    "125": "F9",
    "30": "F#1",
    "78": "F#5",
    "126": "F#9",
    "31": "G1",
    "79": "G5",
    "127": "G9",
    "32": "G#1",
    "80": "G#5",
    "33": "A1",
    "81": "A5",
    "34": "A#1",
    "82": "A#5",
    "35": "B1",
    "83": "B5",
    "36": "C2",
    "84": "C6",
    "37": "C#2",
    "85": "C#6",
    "38": "D2",
    "86": "D6",
    "39": "D#2",
    "87": "D#6",
    "40": "E2",
    "88": "E6",
    "41": "F2",
    "89": "F6",
    "42": "F#2",
    "90": "F#6",
    "43": "G2",
    "91": "G6",
    "44": "G#2",
    "92": "G#6",
    "45": "A2",
    "93": "A6",
    "46": "A#2",
    "94": "A#6",
    "47": "B2",
    "95": "B6",
    "48": "C3",
    "96": "C7",
    "49": "C#3",
    "97": "C#7",
    "50": "D3",
    "98": "D7",
    "51": "D#3",
    "99": "D#7",
    "52": "E3",
    "100": "E7",
    "53": "F3",
    "101": "F7",
    "54": "F#3",
    "102": "F#7",
    "55": "G3",
    "103": "G7",
    "56": "G#3",
    "104": "G#7",
    "57": "A3",
    "105": "A7",
    "58": "A#3",
    "106": "A#7",
    "59": "B3",
    "107": "B7",
};
interface Result {
    note: string;
    fill: number;
}
export default function calcMidi(frequency: number): Object {
    const liveMidi = 12 * Math.log2(frequency / 440) + 69;
    let intMidi = Math.trunc(liveMidi);
    let decMidi = liveMidi - intMidi;
    if (liveMidi - intMidi >= 0.5) {
        const barFill = (decMidi - 0.5) * 100;
        const retMidi: string = MIDIREF[(++intMidi).toString()];
        return { note: retMidi, fill: barFill };
    } else if (liveMidi - intMidi < 0.5) {
        const barFill = (decMidi + 0.5) * 100;
        const retMidi: string = MIDIREF[intMidi.toString()];
        const res: Result = { note: retMidi, fill: barFill };
        return res;
    }
}
